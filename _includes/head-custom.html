<!-- Custom CSS for devnomadic -->
<style>
.post-tags { margin: 0.5rem 0; }
.post-tags .tag {
  display: inline-block;
  background-color: #f1f3f4;
  color: #5f6368;
  padding: 0.2rem 0.5rem;
  margin: 0.1rem 0.2rem 0.1rem 0;
  border-radius: 0.25rem;
  font-size: 0.8rem;
  text-decoration: none;
}
.post-tags .tag:hover {
  background-color: #e8eaed;
  color: #202124;
}
</style>

<!-- Mermaid.js for diagram rendering -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
<script>
(function() {
  function initializeMermaid() {
    if (typeof mermaid !== 'undefined') {
      mermaid.initialize({ 
        startOnLoad: false,
        theme: 'default',
        themeVariables: {
          primaryColor: '#ff4757',
          primaryTextColor: '#fff',
          primaryBorderColor: '#ff3742',
          lineColor: '#5f27cd',
          secondaryColor: '#f1f2f6',
          tertiaryColor: '#ffffff'
        }
      });
      
      // Convert mermaid code blocks to mermaid divs
      const mermaidBlocks = document.querySelectorAll('pre code.language-mermaid');
      mermaidBlocks.forEach(function(block, index) {
        const mermaidDiv = document.createElement('div');
        mermaidDiv.className = 'mermaid';
        mermaidDiv.id = 'mermaid-' + index;
        mermaidDiv.textContent = block.textContent;
        block.parentNode.parentNode.replaceChild(mermaidDiv, block.parentNode);
      });
      
      // Initialize mermaid after DOM manipulation
      if (mermaidBlocks.length > 0) {
        mermaid.init();
      }
    }
  }
  
  // Try to initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initializeMermaid);
  } else {
    initializeMermaid();
  }
  
  // Fallback: try again after a short delay
  setTimeout(initializeMermaid, 1000);
})();
</script>
